<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>{{title}}</ion-title>
  </ion-navbar>
</ion-header>

<ion-content class="">
  <ion-row *ngIf="publishedJobRequestDesc != null && isAvailable">
    <ion-col col-12>
      <ion-card class="details-card">
        <ion-item class="">
          <ion-avatar item-start class="avatar-top">
            <img class="img-size" src="{{publishedJobRequestDesc.Candidate.ProfilePicUrl}}" />
          </ion-avatar>
          <div class="card">
            <h4 class="para-overflow-hidden margin-bottom-5">
              <span class="margin-right-10 font-weight-500 font-size-16 ">
                <span
                  *ngIf="publishedJobRequestDesc.Candidate && publishedJobRequestDesc.Candidate.FirstName && publishedJobRequestDesc.Candidate.FirstName !=''">{{publishedJobRequestDesc.Candidate.FirstName}}
                </span>
                <span *ngIf="userDetails.type == 'Admin'">{{publishedJobRequestDesc.Candidate.LastName}}</span>
              </span>
              <!-- <span class="req-type-color">
                {{item.RequestType}}
              </span> -->
            </h4>
            <p class="para-overflow-hidden" *ngIf="publishedJobRequestDesc.Candidate">
              <rating class="rating-sec" [(ngModel)]="publishedJobRequestDesc.StarRating" readOnly="true" max="5"
                emptyStarIconName="star-outline" halfStarIconName="star-half" starIconName="star" nullable="false">
              </rating>
            </p>
            <p class="para-overflow-hidden" *ngIf="publishedJobRequestDesc.Candidate">
              <span>
                <img src="assets/imgs/publishedjob/mail_icon.svg" class="img-sub-size">
              </span>
              <span class="font-size-13"> {{publishedJobRequestDesc.Candidate.EmailId}}</span>
            </p>
            <p class="para-overflow-hidden" *ngIf="publishedJobRequestDesc.Candidate">
              <span>
                <img src="assets/imgs/publishedjob/mobile_icon.svg" class="img-sub-size">
              </span>
              <span class="font-size-13"> {{publishedJobRequestDesc.Candidate.ContactNo}}</span>
            </p>
            <p class="para-overflow-hidden" *ngIf="publishedJobRequestDesc.Candidate">
              <span>
                <img src="assets/imgs/publishedjob/location.svg" class="img-sub-size">
              </span>
              <span class="font-size-13"> {{publishedJobRequestDesc.Candidate.Country}},
                {{publishedJobRequestDesc.Candidate.City}}, {{publishedJobRequestDesc.Candidate.District}}</span>
            </p>
          </div>
        </ion-item>
        <ion-item class="border-bottom-1 margin-top--10"
          *ngIf="publishedJobRequestDesc.JobRequestDescription && publishedJobRequestDesc.JobRequestDescription!=''">
          <p class="block-with-text">
            <span class="sub-header-title">{{labelList.label53}}: </span>
            <span class="font-size-13 white-space-initial">{{publishedJobRequestDesc.JobRequestDescription}}</span>
          </p>
        </ion-item>
        <ion-item class="border-bottom-1" *ngIf="publishedJobRequestDesc.Candidate">
          <p>
            <span class="float-left sub-header-title">{{labelList.label14}}</span>
            <span class="float-right font-size-13" *ngIf="publishedJobRequestDesc.Candidate.Gender == 1">{{labelList.label16}}</span>
            <span class="float-right font-size-13" *ngIf="publishedJobRequestDesc.Candidate.Gender == 2">{{labelList.label15}}</span>
          </p>
        </ion-item>
        <ion-item class="border-bottom-1" *ngIf="publishedJobRequestDesc.Candidate">
          <p>
            <span class="float-left sub-header-title">{{labelList.label66}}</span>
            <span class="float-right font-size-13" *ngIf="publishedJobRequestDesc.Candidate.StaffType==1">{{labelList.label48}}</span>label103
            <span class="float-right font-size-13" *ngIf="publishedJobRequestDesc.Candidate.StaffType==2">{{labelList.label10}}</span>
            <span class="float-right font-size-13" *ngIf="publishedJobRequestDesc.Candidate.StaffType==0">{{labelList.label76}}</span>
            <!-- <span class="float-right font-size-13" *ngIf="publishedJobRequestDesc.Candidate.StaffTypeDesc !=null && publishedJobRequestDesc.Candidate.StaffTypeDesc!=''">{{publishedJobRequestDesc.Candidate.StaffTypeDesc}}</span>
            <span class="float-right font-size-13" *ngIf="publishedJobRequestDesc.Candidate.StaffTypeDesc ==null || publishedJobRequestDesc.Candidate.StaffTypeDesc==''">Not Available</span> -->
          </p>
        </ion-item>
        <ion-item class="border-bottom-1" *ngIf="publishedJobRequestDesc.Candidate">
          <p>
            <span class="float-left sub-header-title">{{labelList.label50}}</span>
            <span class="float-right font-size-13">{{publishedJobRequestDesc.Candidate.Age}} {{labelList.label93}}</span>
          </p>
        </ion-item>
        <ion-item class="border-bottom-1" *ngIf="publishedJobRequestDesc.Candidate">
          <p>
            <span class="float-left sub-header-title">{{labelList.label65}}</span>
            <span class="float-right font-size-13">
              <span
                *ngIf="publishedJobRequestDesc.Candidate.ExperienceInYears > 0 && publishedJobRequestDesc.Candidate.ExperienceInYears!=null">{{publishedJobRequestDesc.Candidate.ExperienceInYears}}
                {{labelList.label146}}</span>
              <span
                *ngIf="publishedJobRequestDesc.Candidate.ExperienceInMonths > 0 && publishedJobRequestDesc.Candidate.ExperienceInMonths!=null">{{publishedJobRequestDesc.Candidate.ExperienceInMonths}}
                {{labelList.label147}}</span>
            </span>
          </p>
        </ion-item>
        <ion-item class="border-bottom-1" *ngIf="publishedJobRequestDesc.Candidate">
          <p>
            <span class="float-left sub-header-title">{{labelList.label153}}</span>
            <span class="float-right font-size-13" *ngIf="publishedJobRequestDesc.Candidate.CanRead">{{labelList.label60}}</span>
            <span class="float-right font-size-13" *ngIf="!publishedJobRequestDesc.Candidate.CanRead">{{labelList.label59}}</span>
          </p>
        </ion-item>
        <ion-item class="border-bottom-1" *ngIf="publishedJobRequestDesc.Candidate">
          <p>
            <span class="float-left sub-header-title">{{labelList.label154}}</span>
            <span class="float-right font-size-13" *ngIf="publishedJobRequestDesc.Candidate.CanWrite">{{labelList.label60}}</span>
            <span class="float-right font-size-13" *ngIf="!publishedJobRequestDesc.Candidate.CanWrite">{{labelList.label59}}</span>
          </p>
        </ion-item>
        <ion-item class="border-bottom-1" *ngIf="publishedJobRequestDesc.Candidate">
          <p>
            <span class="float-left sub-header-title">{{labelList.label129}}</span>
            <span class="float-right font-size-13" *ngIf="publishedJobRequestDesc.Candidate.SleepOnSite">{{labelList.label60}}</span>
            <span class="float-right font-size-13" *ngIf="!publishedJobRequestDesc.Candidate.SleepOnSite">{{labelList.label59}}</span>
          </p>
        </ion-item>
        <ion-item class="border-bottom-1" *ngIf="publishedJobRequestDesc.Candidate">
          <p>
            <span class="float-left sub-header-title">{{labelList.label67}}</span>
            <span class="float-right font-size-13">{{publishedJobRequestDesc.Candidate.Disponibility}}</span>
          </p>
        </ion-item>
        <ion-item class="border-bottom-1" *ngIf="publishedJobRequestDesc.Candidate">
          <p>
            <span class="float-left sub-header-title">{{labelList.label144}}</span>
            <span class="float-right font-size-13">{{publishedJobRequestDesc.Candidate.Adult}}</span>
          </p>
        </ion-item>
        <ion-item class="border-bottom-1" *ngIf="publishedJobRequestDesc.Candidate">
          <p>
            <span class="float-left sub-header-title">{{labelList.label145}}</span>
            <span class="float-right font-size-13">{{publishedJobRequestDesc.Candidate.Children}}</span>
          </p>
        </ion-item>
        <ion-item class="border-bottom-1" *ngIf="publishedJobRequestDesc.Candidate">
          <p>
            <span class="float-left sub-header-title">{{labelList.label69}}</span>
            <span class="float-right font-size-13">
              <span *ngIf="publishedJobRequestDesc.Candidate.Country">{{publishedJobRequestDesc.Candidate.Country}},
              </span>
              <span *ngIf="publishedJobRequestDesc.Candidate.City">{{publishedJobRequestDesc.Candidate.City}}, </span>
              <span *ngIf="publishedJobRequestDesc.Candidate.District">{{publishedJobRequestDesc.Candidate.District}}
              </span>
            </span>
          </p>
        </ion-item>
        <ion-item class="border-bottom-1" *ngIf="publishedJobRequestDesc.Candidate">
          <p>
            <span class="float-left sub-header-title">{{labelList.label70}}</span>
            <span class="float-right font-size-13">
              <span
                *ngIf="publishedJobRequestDesc.Candidate.ExpectedMaxSalary > 0">{{publishedJobRequestDesc.Candidate.ExpectedMaxSalary}}
                - </span>
              <span
                *ngIf="publishedJobRequestDesc.Candidate.ExpectedMinSalary > 0">{{publishedJobRequestDesc.Candidate.ExpectedMinSalary}}</span>
            </span>
          </p>
        </ion-item>
        <ion-row class="padding-left-15" *ngIf="jobTasks.length > 0">
            <ion-col col-12>
              <ion-col col-12>
                <p>
                  {{labelList.label152}}
                </p>
              </ion-col>
              <div class="categories">
                <!-- <div *ngFor="let skill of (publishedJobOfferDesc.JobOfferJobTasks | jobTaskPipe)">
                  <div *ngIf="skill.JobTask">
                    <span class="font-size-13">
                      <img [src]="skill.JobTask.IconImage" class="item-img" /> {{skill.JobTask.JobTaskName}}</span>
                  </div>
                  <ul>
                    <ng-template #recursiveList let-list>
                      <li *ngFor="let subTask of list">
                        <div>
                          <span class="font-size-13">
                            <img [src]="subTask.IconImage" class="item-img" /> {{subTask.JobTaskName}}
                          </span>
                        </div>
                        <ul *ngIf="subTask.SubTasks?.length > 0">
                          <ng-container *ngTemplateOutlet="recursiveList; context:{ $implicit: subTask.SubTasks }">
                          </ng-container>
                        </ul>
                      </li>
                    </ng-template>
                    <ng-container *ngTemplateOutlet="recursiveList; context:{ $implicit: skill.SubTasks }"></ng-container>
                  </ul>
                </div> -->
                <ion-row class="padding-left-15" *ngIf="jobTasks.length > 0">
                    <ion-col col-12>
                      <div class="categories">
                        <div *ngFor="let job of (jobTasks | jobTaskPipe)">
                          <ion-checkbox [checked]="checkIfExists(job)" item-left class="margin-right-15" name="job_task_{{job.JobTaskId}}" disabled="disabled" [(ngModel)]="job.Selected">
                          </ion-checkbox>
                          <span>{{job.JobTaskName}}</span>
                           <p>{{job.TaskResponse}}</p> 
                          <ul>
                            <ng-template #recursiveList let-list>
                              <li *ngFor="let subTask of list">
                                <div>
                                  <ion-checkbox item-left class="margin-right-15" [checked]="checkIfExists(subTask)" disabled="disabled" name="job_task_{{subTask.JobTaskId}}" [(ngModel)]="subTask.Selected">
                                  </ion-checkbox>
                                  <span>{{subTask.JobTaskName}}</span>
                                  <!-- <p>{{job.TaskResponse}}</p> -->
                                </div>
                                <ul *ngIf="subTask.SubTasks?.length > 0">
                                  <ng-container *ngTemplateOutlet="recursiveList; context:{ $implicit: subTask.SubTasks }"></ng-container>
                                </ul>
                              </li>
                            </ng-template>
                            <ng-container *ngTemplateOutlet="recursiveList; context:{ $implicit: job.SubTasks }"></ng-container>
                          </ul>
                        </div>
                      </div>
                    </ion-col>
                  </ion-row>
              </div>
            </ion-col>
          </ion-row>
        <ion-item class="border-bottom-1"
          *ngIf="publishedJobRequestDesc.Candidate.AdditionalDescription && publishedJobRequestDesc.Candidate.AdditionalDescription!=''">
          <p>
            <span class="float-left sub-header-title">{{labelList.label131}}</span>
          </p>
          <p class="font-size-13 white-space-initial">
            {{publishedJobRequestDesc.JobRequestDescription}}
          </p>
        </ion-item>
        <ion-row>
          <ion-col col-4 text-center>
            <img class="skillimg" *ngIf="publishedJobRequestDesc.SkillPic1 == null" src="assets/imgs/nouser.jpg" />
            <img class="skillimg" *ngIf="publishedJobRequestDesc.SkillPic1 != null"
              src="{{publishedJobRequestDesc.SkillPic1}}" />
          </ion-col>
          <ion-col col-4 text-center>
            <img class="skillimg" *ngIf="publishedJobRequestDesc.SkillPic2 == null" src="assets/imgs/nouser.jpg" />
            <img class="skillimg" *ngIf="publishedJobRequestDesc.SkillPic2 != null" src="{{publishedJobRequestDesc.SkillPic2}}" />
          </ion-col>
          <ion-col col-4 text-center>
            <img class="skillimg" *ngIf="publishedJobRequestDesc.SkillPic3 == null" src="assets/imgs/nouser.jpg" />
            <img class="skillimg" *ngIf="publishedJobRequestDesc.SkillPic3 != null"
              src="{{publishedJobRequestDesc.SkillPic3}}" />
          </ion-col>
        </ion-row>
        <div class="job-btn-con" *ngIf="userDetails.type == 'Admin'">
            <button ion-button round full pr class="job-button" (click)="Verify()">{{labellist.label96}}</button>
        </div>
       
      </ion-card>
    </ion-col>
  </ion-row>
  <ion-row *ngIf="!isAvailable">
    <ion-col col-12 text-center>
      <p class="not-found-text">{{labellist.errormsg17}}!</p>
    </ion-col>
  </ion-row>
</ion-content>