<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>{{labelList.pagetitle21}}</ion-title>
  </ion-navbar>
</ion-header>

<ion-content class="">
  <ion-row>
    <ion-col col-12>
      <ion-row>
        <ion-col col-12>
          <p class="form-header">
            {{labelList.label155}}
          </p>
        </ion-col>
        <ion-col col-12>
          <ion-item class="padding-left-10">
            <ion-input [(ngModel)]="createJobRequest.Title" type="text" [placeholder]="labelList.label155" spellcheck="false" autocapitalize="off">
            </ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-12>
          <p class="form-header">
            {{labelList.label65}}
          </p>
        </ion-col>
        <ion-col col-6>
          <ion-item class="padding-left-10">
            <ion-input [(ngModel)]="createJobRequest.ExperienceInYears" type="tel" [placeholder]="labelList.label146" spellcheck="false" autocapitalize="off"
              maxlength="2" (keypress)="onlyNumber($event)">
            </ion-input>
          </ion-item>
        </ion-col>
        <ion-col col-6>
          <ion-item class="padding-left-10">
            <ion-input [(ngModel)]="createJobRequest.ExperienceInMonths" type="tel" [placeholder]="labelList.label147" spellcheck="false" autocapitalize="off"
              maxlength="3" (keypress)="onlyNumber($event)">
            </ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row class="" *ngIf="candidates.length > 0">
        <ion-col col-12>
          <p class="form-header">
           {{labelList.label156}}
          </p>
        </ion-col>
        <ion-col col-12>
          <div class="categories">
           <!-- <div *ngFor="let item  of candidates">
               <ion-checkbox item-left class="margin-right-15" name="job_task_{{item.CandidateId}}" [(ngModel)]="item.Selected">
              </ion-checkbox>
              <span>{{item.FirstName}}</span> 
            </div>-->
            <ion-card class="job-card-con" *ngFor="let item of candidates">
              <ion-item class="">
                <ion-avatar item-start class="avatar-top">
                  <img class="img-size" *ngIf="item.ProfilePicUrl == '' && item.Gender == 1" src="assets/imgs/maledefault.svg" />
                  <img class="img-size" *ngIf="item.ProfilePicUrl == '' && item.Gender == 2" src="assets/imgs/femaledefault.svg" />
                  <img class="img-size" *ngIf="item.ProfilePicUrl != ''" src="{{item.ProfilePicUrl}}" />

                  <img src="assets/imgs/verified.png" class="verified-img" *ngIf="item.ProfileVerified" alt="">
                </ion-avatar>
                <div class="card">
                  
                  <h4 class="para-overflow-hidden margin-bottom-5">
                      <img src="assets/imgs/woman.svg" *ngIf="item.Gender == 2" class="card-name-geneder-icon"> 
                    <img src="assets/imgs/male.svg" *ngIf="item.Gender == 1" class="card-name-geneder-icon"> <span class="margin-right-10 font-weight-500 font-size-16 ">{{item.FirstName}} {{item.LastName}}</span>
                   
                   
                  </h4>
                  <p class="para-overflow-hidden">
                      <span>
                        <img src="assets/imgs/location.svg" class="img-sub-size">
                      </span>
                      <span class=""> {{item.Country}}, {{item.City}}, {{item.District}}</span>
                    </p>
                 
                  <p class="para-overflow-hidden">
                    <span>
                      <img src="assets/imgs/age.svg" class="img-sub-size">
                    </span>
                    <span class=""> {{item.Age}} Yrs</span>
                  </p>
                  <p class="para-overflow-hidden">
                    <span>
                      <img src="assets/imgs/publishedjob/mail_icon.svg" class="img-sub-size">
                    </span>
                    <span class=""> {{item.EmailId}}</span>
                  </p>
                  <p class="para-overflow-hidden">
                    <span>
                      <img src="assets/imgs/publishedjob/mobile_icon.svg" class="img-sub-size">
                    </span>
                    <span class=""> {{item.ContactNo}}</span>
                  </p>
               
                </div>
              </ion-item>
              <ion-row no-padding class="action-con">
                  <ion-col class="action-con-image margin-auto" style="padding:0;">
                      <ion-item>
                          <ion-label>{{labelList.label7}}</ion-label>
                          <ion-checkbox color="dark" name="job_task_{{item.CandidateId}}" [(ngModel)]="item.Selected"></ion-checkbox>
                        </ion-item>
                    </ion-col>
                </ion-row>
            
            </ion-card>
          </div>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-12>
          <p class="form-header">
            Localizations
          </p>
        </ion-col>
        <ion-col col-6>
          <ion-select class="margin-left-10" [(ngModel)]="createJobRequest.CityId" (ionChange)="onSelectedCity()">
            <ion-option value="0">--{{labelList.label22}}--</ion-option>
            <ion-option *ngFor="let item of cities" value="{{item.CityId}}">{{item.CityName}}</ion-option>
          </ion-select>
        </ion-col>
        <ion-col col-6>
          <ion-select class="margin-left-10" [(ngModel)]="createJobRequest.DistrictId" [disabled]="createJobRequest.CityId == 0">
            <ion-option value="0">--{{labelList.label24}}--</ion-option>
            <ion-option *ngFor="let item of districts" value="{{item.DistrictId}}">{{item.DistrictName}}</ion-option>
          </ion-select>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-12>
          <p class="form-header">
            {{labelList.label123}}
          </p>
        </ion-col>
        <ion-col col-12>
          <ion-list class="margin-bottom-5" radio-group [(ngModel)]="createJobRequest.SalaryType">
            <ion-item class="radio-btn-sec default-add">
              <ion-radio item-left value="1"></ion-radio>
              <ion-label class="font-size-14">{{labelList.label124}}</ion-label>
            </ion-item>
            <ion-item class="radio-btn-sec default-add">
              <ion-radio item-left value="2"></ion-radio>
              <ion-label class="font-size-14">{{labelList.label125}}</ion-label>
            </ion-item>
            <ion-item class="radio-btn-sec default-add">
              <ion-radio item-left value="3"></ion-radio>
              <ion-label class="font-size-14">{{labelList.label126}}</ion-label>
            </ion-item>
          </ion-list>
        </ion-col>
        <ion-col col-6>
          <ion-item class="padding-left-10">
            <ion-input [(ngModel)]="createJobRequest.ExpectedMinSalary" type="tel" [placeholder]="labelList.label71" spellcheck="false" autocapitalize="off"
              maxlength="10" (keypress)="onlyNumber($event)">
            </ion-input>
          </ion-item>

        </ion-col>
        <ion-col col-6>
          <ion-item class="padding-left-10">
            <ion-input [(ngModel)]="createJobRequest.ExpectedMaxSalary" type="tel" [placeholder]="labelList.label72" spellcheck="false" autocapitalize="off"
              maxlength="10" (keypress)="onlyNumber($event)">
            </ion-input>
          </ion-item>

        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-12>
          <ion-item class="margin-bottom-5">
            <ion-label class="margin-top-0 font-size-14">
              <span>{{labelList.label127}}</span>
              <span>
                <img src="assets/imgs/createJobReq/study.svg" class="img-sub-size margin-left-10" style="width:25px">
              </span>
            </ion-label>
            <ion-checkbox item-left class="margin-right-15" [(ngModel)]="createJobRequest.CanRead" spellcheck="false" autocapitalize="off"
              required>
            </ion-checkbox>
          </ion-item>
          <ion-item class="margin-bottom-5">
            <ion-label class="margin-top-0 font-size-14">
              <span>{{labelList.label128}}</span>
              <span>
                <img src="assets/imgs/createJobReq/write-letter.svg" class="img-sub-size margin-left-10" style="width:25px">
              </span>
            </ion-label>
            <ion-checkbox item-left class="margin-right-15" [(ngModel)]="createJobRequest.CanWrite" spellcheck="false" autocapitalize="off"
              required>
            </ion-checkbox>
          </ion-item>
          <ion-item class="margin-bottom-5">
            <ion-label class="margin-top-0 font-size-14">
              <span>{{labelList.label129}}</span>
              <span>
                <img src="assets/imgs/createJobReq/slumber.svg" class="img-sub-size margin-left-10" style="width:25px">
              </span>
            </ion-label>
            <ion-checkbox item-left class="margin-right-15" spellcheck="false" autocapitalize="off" required>
            </ion-checkbox>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-12>
          <p class="form-header">
            {{labelList.label67}}
          </p>
        </ion-col>
        <ion-col col-6>
          <ion-item>
            <ion-label>
              <ion-icon name="calendar" class="font-size-25"></ion-icon>
            </ion-label>
            <ion-datetime displayFormat="DD-MMM-YYYY" pickerFormat="DD-MMM-YYYY" min="{{minDate}}" max="{{maxDate}}" [(ngModel)]="showSelectedDate"
              (click)="isDateSelected = true" (ionChange)="onSelectedDate(true)"></ion-datetime>
          </ion-item>
        </ion-col>
      </ion-row>

      <!-- <ion-row *ngIf="jobTasks.length > 0">
        <ion-col col-12 *ngFor="let job of jobTasks; let i = index">
          <ion-checkbox item-left class="margin-right-15" [(ngModel)]="job.Selected">
          </ion-checkbox>
          <span>{{job.JobTaskName}}</span>
          <div *ngIf="(job.ParentJobTaskId && job.ParentJobTaskId != null) || job.SubTasks.length > 0">
            <ion-col col-12 *ngFor="let subTask of job.SubTasks; let i = index">
              <ion-checkbox item-left class="margin-right-15" [(ngModel)]="subTask.Selected">
              </ion-checkbox>
              <span>{{subTask.JobTaskName}}</span>
            </ion-col>
            <div *ngIf="subTask.ParentJobTaskId && job.ParentJobTaskId != null && job.SubTasks.length > 0">
              <ion-col col-12 *ngFor="let subTask of job.SubTasks; let i = index">
                <ion-checkbox item-left class="margin-right-15" [(ngModel)]="subTask.Selected">
                </ion-checkbox>
                <span>{{subTask.JobTaskName}}</span>
              </ion-col>
            </div>
          </div>
        </ion-col>
      </ion-row> -->
      <ion-row class="" *ngIf="jobTasks.length > 0">
        <ion-col col-12>
          <p class="form-header">
            {{labelList.label130}}
          </p>
        </ion-col>
        <ion-col col-12>
          <div class="categories">
            <div *ngFor="let job of (jobTasks | jobTaskPipe)">
              <ion-checkbox item-left class="margin-right-15" name="job_task_{{job.JobTaskId}}" [(ngModel)]="job.Selected">
              </ion-checkbox>
              <span>{{job.JobTaskName}}</span>
              <ion-input type="text" style="border-bottom: 1px solid rgb(208, 208, 208);" [placeholder]="labelList.label53" spellcheck="false"
                autocapitalize="off" [(ngModel)]="job.Note">
              </ion-input>
              <ul style="padding-left: 10px;">
                <ng-template #recursiveList let-list>
                  <li *ngFor="let subTask of list">
                    <div>
                      <ion-checkbox item-left class="margin-right-15" name="job_task_{{subTask.JobTaskId}}" [(ngModel)]="subTask.Selected">
                      </ion-checkbox>
                      <span>{{subTask.JobTaskName}}</span>
                      <ion-input style="border-bottom: 1px solid rgb(208, 208, 208);" type="text" [(ngModel)]="subTask.Note" [placeholder]="labelList.label53"
                        spellcheck="false" autocapitalize="off"></ion-input>
                    </div>
                    <ul *ngIf="subTask.SubTasks?.length > 0" style="padding-left: 10px;">
                      <ng-container *ngTemplateOutlet="recursiveList; context:{ $implicit: subTask.SubTasks }"></ng-container>
                    </ul>
                  </li>
                </ng-template>
                <ng-container *ngTemplateOutlet="recursiveList; context:{ $implicit: job.SubTasks }"></ng-container>
              </ul>
            </div>
          </div>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-12>
          <p class="form-header">
            {{labelList.label131}}
          </p>
        </ion-col>
        <ion-col col-12>
          <ion-item>
            <ion-textarea [placeholder]="labelList.label132" [(ngModel)]="createJobRequest.AdditionalDescription"></ion-textarea>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-12>
          <ion-row>
            <ion-col col-3 *ngFor="let item of images" class="margin-auto">
              <img class="img-size" [src]="item.file && item.file!=''? item.file:'assets/imgs/upload.png'" (click)="uploadImage(item)"
              />
              <p style="margin: 0;text-align: center;font-size: 12px;color: #f65f6e;">{{labelList.label30}}</p>
            </ion-col>
          </ion-row>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col col-12>
          <button class="btn" type="button" (click)="onCreateJobRequest()" class="submit-btn">{{labelList.label133}}</button>
        </ion-col>
      </ion-row>
    </ion-col>
  </ion-row>
</ion-content>